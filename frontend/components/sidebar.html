<aside class="sidebar bg-gradient-to-b from-gray-50 to-gray-100 border-r-2 border-gray-200" 
       style="width: 320px !important; min-width: 320px !important; max-width: 320px !important; height: 100% !important; flex-shrink: 0 !important; overflow-y: auto !important; display: flex !important; flex-direction: column !important;">
    <div class="sidebar-content" style="flex: 1 !important; padding: 24px !important;">
        <!-- 탭 네비게이션 -->
        <div class="tab-navigation">
            <button onclick="switchTab('categories')" id="categoriesTab" 
                    class="tab-button active flex-1 menu-font">카테고리</button>
            <button onclick="switchTab('history')" id="historyTab" 
                    class="tab-button flex-1 menu-font">히스토리</button>
            <button onclick="switchTab('recommendations')" id="recommendationsTab" 
                    class="tab-button flex-1 menu-font">추천</button>
        </div>

        <!-- 카테고리 탭 -->
        <div id="categoriesContent" class="tab-content">
            <div class="space-y-3">
                <button onclick="onCategoryClick('health')" data-category="health" 
                        class="category-button active">
                    <div class="flex items-center space-x-3">
                        <div class="nori-icon nori-health nori-large flex-shrink-0"></div>
                        <div class="category-content">
                            <div class="category-title menu-font font-bold">건강 상담</div>
                            <div class="category-description menu-font">건강 관리 및 의료 정보</div>
                        </div>
                    </div>
                </button>
                <button onclick="onCategoryClick('travel')" data-category="travel" 
                        class="category-button">
                    <div class="flex items-center space-x-3">
                        <div class="nori-icon nori-travel nori-large flex-shrink-0"></div>
                        <div class="category-content">
                            <div class="category-title menu-font font-bold">여행 상담</div>
                            <div class="category-description menu-font">여행 계획 및 정보</div>
                        </div>
                    </div>
                </button>
                <button onclick="onCategoryClick('investment')" data-category="investment" 
                        class="category-button">
                    <div class="flex items-center space-x-3">
                        <div class="nori-icon nori-investment nori-large flex-shrink-0"></div>
                        <div class="category-content">
                            <div class="category-title menu-font font-bold">투자 상담</div>
                            <div class="category-description menu-font">재테크 및 투자 정보</div>
                        </div>
                    </div>
                </button>
                <button onclick="onCategoryClick('legal')" data-category="legal" 
                        class="category-button">
                    <div class="flex items-center space-x-3">
                        <div class="nori-icon nori-legal nori-large flex-shrink-0"></div>
                        <div class="category-content">
                            <div class="category-title menu-font font-bold">법률 상담</div>
                            <div class="category-description menu-font">법률 상담 및 정보</div>
                        </div>
                    </div>
                </button>
            </div>
        </div>

        <!-- 히스토리 탭 -->
        <div id="historyContent" class="tab-content hidden">
            <div class="text-lg text-gray-700 mb-5 font-semibold menu-font">최근 대화</div>
            <div id="chatHistory" class="space-y-2">
                <!-- 히스토리 항목들 -->
            </div>
        </div>

        <!-- 추천 탭 -->
        <div id="recommendationsContent" class="tab-content hidden">
            <div class="text-lg text-gray-700 mb-5 font-semibold menu-font">카테고리별 추천 질문</div>
            
            <!-- 카테고리별 추천 질문들 -->
            <div id="recommendationsList" class="space-y-4">
                
                <!-- 건강 관련 추천 -->
                <div class="recommendation-category">
                    <h4 class="text-md font-bold text-amber-800 mb-2 menu-font flex items-center">
                        <div class="nori-icon nori-health mr-2"></div>
                        건강 상담
                    </h4>
                    <div class="space-y-2">
                        <div class="recommendation-card health-rec" 
                             onclick="askRecommendedQuestion('health', '혈압 관리 방법 알려주세요')">
                            <div class="card-title">혈압 관리 방법 알려주세요</div>
                            <div class="card-meta">중장년층 건강 관리</div>
                        </div>
                        <div class="recommendation-card health-rec" 
                             onclick="askRecommendedQuestion('health', '당뇨 예방은 어떻게 하나요?')">
                            <div class="card-title">당뇨 예방은 어떻게 하나요?</div>
                            <div class="card-meta">성인병 예방법</div>
                        </div>
                        <div class="recommendation-card health-rec" 
                             onclick="askRecommendedQuestion('health', '건강한 운동법이 궁금해요')">
                            <div class="card-title">건강한 운동법이 궁금해요</div>
                            <div class="card-meta">중장년층 맞춤 운동</div>
                        </div>
                        <div class="recommendation-card health-rec" 
                             onclick="askRecommendedQuestion('health', '건강검진 주기는 어떻게 되나요?')">
                            <div class="card-title">건강검진 주기는 어떻게 되나요?</div>
                            <div class="card-meta">정기 건강검진</div>
                        </div>
                    </div>
                </div>

                <!-- 여행 관련 추천 -->
                <div class="recommendation-category">
                    <h4 class="text-md font-bold text-amber-800 mb-2 menu-font flex items-center">
                        <div class="nori-icon nori-travel mr-2"></div>
                        여행 상담
                    </h4>
                    <div class="space-y-2">
                        <div class="recommendation-card travel-rec" 
                             onclick="askRecommendedQuestion('travel', '제주도 여행 추천해주세요')">
                            <div class="card-title">제주도 여행 추천해주세요</div>
                            <div class="card-meta">인기 여행지</div>
                        </div>
                        <div class="recommendation-card travel-rec" 
                             onclick="askRecommendedQuestion('travel', '부산 여행 코스 알려주세요')">
                            <div class="card-title">부산 여행 코스 알려주세요</div>
                            <div class="card-meta">바다 여행</div>
                        </div>
                        <div class="recommendation-card travel-rec" 
                             onclick="askRecommendedQuestion('travel', '경주 역사 여행 계획 세워주세요')">
                            <div class="card-title">경주 역사 여행 계획 세워주세요</div>
                            <div class="card-meta">문화재 탐방</div>
                        </div>
                        <div class="recommendation-card travel-rec" 
                             onclick="askRecommendedQuestion('travel', '여행 준비물은 뭐가 필요한가요?')">
                            <div class="card-title">여행 준비물은 뭐가 필요한가요?</div>
                            <div class="card-meta">여행 팁</div>
                        </div>
                    </div>
                </div>

                <!-- 투자 관련 추천 -->
                <div class="recommendation-category">
                    <h4 class="text-md font-bold text-amber-800 mb-2 menu-font flex items-center">
                        <div class="nori-icon nori-investment mr-2"></div>
                        투자 상담
                    </h4>
                    <div class="space-y-2">
                        <div class="recommendation-card investment-rec" 
                             onclick="askRecommendedQuestion('investment', '안전한 투자 방법은?')">
                            <div class="card-title">안전한 투자 방법은?</div>
                            <div class="card-meta">저위험 투자</div>
                        </div>
                        <div class="recommendation-card investment-rec" 
                             onclick="askRecommendedQuestion('investment', '연금 준비 어떻게 하나요?')">
                            <div class="card-title">연금 준비 어떻게 하나요?</div>
                            <div class="card-meta">은퇴 계획</div>
                        </div>
                        <div class="recommendation-card investment-rec" 
                             onclick="askRecommendedQuestion('investment', '부동산 투자 주의사항은?')">
                            <div class="card-title">부동산 투자 주의사항은?</div>
                            <div class="card-meta">부동산 투자</div>
                        </div>
                        <div class="recommendation-card investment-rec" 
                             onclick="askRecommendedQuestion('investment', '적금과 예금 어떤게 좋을까요?')">
                            <div class="card-title">적금과 예금 어떤게 좋을까요?</div>
                            <div class="card-meta">기본 금융상품</div>
                        </div>
                    </div>
                </div>

                <!-- 법률 관련 추천 -->
                <div class="recommendation-category">
                    <h4 class="text-md font-bold text-amber-800 mb-2 menu-font flex items-center">
                        <div class="nori-icon nori-legal mr-2"></div>
                        법률 상담
                    </h4>
                    <div class="space-y-2">
                        <div class="recommendation-card legal-rec" 
                             onclick="askRecommendedQuestion('legal', '계약서 작성시 주의사항')">
                            <div class="card-title">계약서 작성시 주의사항</div>
                            <div class="card-meta">계약 법률</div>
                        </div>
                        <div class="recommendation-card legal-rec" 
                             onclick="askRecommendedQuestion('legal', '상속 준비 방법')">
                            <div class="card-title">상속 준비 방법</div>
                            <div class="card-meta">상속 법률</div>
                        </div>
                        <div class="recommendation-card legal-rec" 
                             onclick="askRecommendedQuestion('legal', '사기 예방법 알려주세요')">
                            <div class="card-title">사기 예방법 알려주세요</div>
                            <div class="card-meta">소비자 보호</div>
                        </div>
                        <div class="recommendation-card legal-rec" 
                             onclick="askRecommendedQuestion('legal', '유언장 작성 방법')">
                            <div class="card-title">유언장 작성 방법</div>
                            <div class="card-meta">상속 준비</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 새로고침 버튼 -->
            <button onclick="shuffleRecommendations()" 
                    class="w-full mt-5 px-5 py-3 bg-gradient-to-r from-yellow-200 to-yellow-300 text-yellow-900 rounded-xl hover:from-yellow-300 hover:to-yellow-400 transition-all text-lg font-bold button-font shadow-md">
                 다른 추천 질문 보기
            </button>
        </div>
    </div>
    
    <!-- 사이드바 하단 메뉴 -->
    <div class="sidebar-bottom" style="margin-top: auto !important; padding: 16px 24px !important; border-top: 1px solid #e5e7eb !important; background: rgba(255, 255, 255, 0.5) !important; flex-shrink: 0 !important;">
        <div class="space-y-1">
            <!-- 설정 메뉴 -->
            <div class="bottom-menu-item" onclick="openSettings()">
                <svg class="bottom-menu-icon" viewBox="0 0 24 24">
                    <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                </svg>
                <span class="menu-font">설정</span>
            </div>
            
            <!-- 도움말 메뉴 -->
            <div class="bottom-menu-item" onclick="openHelp()">
                <svg class="bottom-menu-icon" viewBox="0 0 24 24">
                    <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,19h-2v-2h2V19z M15.07,11.25l-0.9,0.92 C13.45,12.9,13,13.5,13,15h-2v-0.5c0-1.1,0.45-2.1,1.17-2.83l1.24-1.26c0.37-0.36,0.59-0.86,0.59-1.41c0-1.1-0.9-2-2-2 s-2,0.9-2,2H8c0-2.21,1.79-4,4-4s4,1.79,4,4C16,9.59,15.64,10.53,15.07,11.25z"/>
                </svg>
                <span class="menu-font">도움말</span>
            </div>
            
            <!-- 업그레이드 메뉴 -->
            <div class="bottom-menu-item" onclick="openUpgrade()">
                <svg class="bottom-menu-icon" viewBox="0 0 24 24">
                    <path d="M12,2l3.09,6.26L22,9.27l-5,4.87L18.18,22L12,18.77L5.82,22L7,14.14l-5-4.87l6.91-1.01L12,2z"/>
                </svg>
                <span class="menu-font">업그레이드</span>
            </div>
            
            <!-- 피드백 메뉴 -->
            <div class="bottom-menu-item" onclick="openFeedback()">
                <svg class="bottom-menu-icon" viewBox="0 0 24 24">
                    <path d="M20,2H4c-1.1,0-1.99,0.9-1.99,2L2,22l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M18,14H6v-2h12V14z M18,11H6V9h12V11z M18,8H6V6h12V8z"/>
                </svg>
                <span class="menu-font">피드백</span>
            </div>
        </div>
    </div>
</aside>
